<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>U of M Events ‚Äî Prototype</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            umMaroon: "#7A0019",
            umGold: "#FFD100",
            umGoldDark: "#E6BF00",
            slateish: "#0f172a"
          }
        }
      }
    }
  </script>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Icons -->
  <script src="https://kit.fontawesome.com/a2e0c6f1ad.js" crossorigin="anonymous"></script>

  <style>
    /* Map height + layering */
    #map {
      height: 66vh;
      position: relative;
      z-index: 0;
    }

    .leaflet-pane,
    .leaflet-top,
    .leaflet-bottom,
    .leaflet-marker-pane,
    .leaflet-popup-pane {
      z-index: 10 !important;
    }

    /* Layering order:
      1) Modals / toast on very top
      2) Header above normal content
      3) Normal content (friends widgets, right messages pane)
    */

    /* Popups + toast ABOVE everything */
    #eventModal,
    #messageModal,
    #LocationWarningModal,
    #toast {
      z-index: 1200 !important;
    }

    /* Header above normal content but below modals */
    #topNav {
      z-index: 1100 !important;
    }

    /* Let main content use normal stacking (will sit under header) */
    aside,
    .page-section {
      z-index: auto !important;
    }

    .leaflet-popup {
      z-index: 999 !important;
    }

    .fade-in {
      animation: fade .18s ease-out;
    }

    /* Unified custom scrollbar for Registered Panel + Event Carousel */
    #registeredPanel::-webkit-scrollbar,
    #eventCarousel::-webkit-scrollbar {
      height: 8px;
      /* for horizontal scroll (carousel) */
      width: 8px;
      /* for vertical scroll (registered panel) */
    }

    #registeredPanel::-webkit-scrollbar-thumb,
    #eventCarousel::-webkit-scrollbar-thumb {
      background-color: rgba(100, 100, 100, 0.25);
      /* medium gray thumb */
      border-radius: 4px;
      transition: background-color 0.2s ease;
    }

    #registeredPanel::-webkit-scrollbar-thumb:hover,
    #eventCarousel::-webkit-scrollbar-thumb:hover {
      background-color: rgba(100, 100, 100, 0.45);
      /* darker on hover */
    }

    #registeredPanel::-webkit-scrollbar-track,
    #eventCarousel::-webkit-scrollbar-track {
      background: transparent;
    }

    /* =====================
   Sidebar Active Button Highlight
   ===================== */
    .page-link {
      position: relative;
      overflow: hidden;
      transition: all 0.25s ease-in-out;
    }

    /* Default state */
    .page-link::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.35);
      /* base subtle overlay */
      transition: all 0.3s ease-in-out;
      z-index: 1;
    }

    /* Active highlight state */
    .page-link.active::after {
      background: linear-gradient(rgba(255, 209, 0, 0.35),
          rgba(122, 0, 25, 0.45));
      box-shadow: 0 0 20px 5px rgba(255, 209, 0, 0.45);
      border: 2px solid #ffd100;
    }

    /* Make text pop more on active */
    .page-link.active span {
      color: #ffd100 !important;
      text-shadow: 0 0 6px rgba(0, 0, 0, 0.6);
    }


    @keyframes fade {
      from {
        opacity: 0
      }

      to {
        opacity: 1
      }
    }

    /* --- My Friends row: fixed-width flex strip, scrolls inside only --- */
    /* Allow the right grid column to shrink instead of stretching the page */
    #right-panel {
      min-width: 0;
    }

    /* Also allow the Social "My Friends" card to shrink inside that column */
    #friendsSection {
      max-width: 100%;
      min-width: 0;
    }

    /* Horizontal flex row that never expands the page */
    #friendsRow {
      width: 100%;
      display: flex;
      flex-wrap: nowrap;         /* single row only */
      gap: 0.75rem;
      overflow-x: auto;          /* scroll happens inside this row */
      overflow-y: hidden;
      padding-bottom: 0.25rem;
      -webkit-overflow-scrolling: touch;
    }

    /* Each friend card: fixed width, cannot stretch layout */
    #friendsRow > article {
      flex: 0 0 220px;           /* fixed card width */
      max-width: 220px;
      min-width: 0;              /* stops intrinsic width from pushing container */
    }

    /* scrollbars just for this row */
    #friendsRow::-webkit-scrollbar {
      height: 8px;
    }
    #friendsRow::-webkit-scrollbar-thumb {
      background-color: rgba(100, 100, 100, 0.25);
      border-radius: 4px;
    }
    #friendsRow::-webkit-scrollbar-thumb:hover {
      background-color: rgba(100, 100, 100, 0.45);
    }
    #friendsRow::-webkit-scrollbar-track {
      background: transparent;
    }
    #messagesPane {
      width: 100%;
      max-width: 100%;
      overflow-y: auto;
      overflow-x: hidden;
    }

    .message-thread {
      overflow: hidden;
    }

    .message-thread-preview,
    .message-thread p,
    .message-thread .text-xs {
      white-space: normal !important;
      overflow-wrap: break-word;
    }

    /* FIX: Each message preview card */
    .message-thread-preview {
      white-space: normal !important;
      word-wrap: break-word;
      overflow-wrap: break-word;
      border: 1px solid #e2e8f0;
      padding: 10px;
      border-radius: 10px;
      background: white;
    }

    .message-thread .truncate {
      display: block;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 160px; /* or any width you like */
    }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-b from-[#fffaf2] via-white to-[#fffaf2] text-slate-800 overflow-x-hidden">
  <!-- HEADER THAT WILL STAY AT THE TOP -->
   <nav id="topNav" class="w-full sticky top-0 bg-umMaroon text-white shadow">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="bg-umGold text-umMaroon font-extrabold rounded px-2 py-1">U of M</div>
        <div class="text-lg font-semibold tracking-wide">U of M Events</div>
      </div>

      <div class="flex-1 mx-6">
        <input id="searchBar" placeholder="Search events, places..."
          class="w-full rounded-full px-4 py-2 text-slate-800 bg-white/95 shadow focus:outline-none" />
      </div>

      <div class="flex items-center gap-3">
        <button class="w-20 bg-umGold text-umMaroon px-3 py-1 rounded hover:bg-white/90">Log in</button>
        <button class="w-20 bg-umGold text-umMaroon px-3 py-1 rounded hover:bg-umGoldDark">Sign up</button>

        <!-- Profile opens the PROFILE page on the right -->
        <button id="profileBtn" data-target="profile-page"
          class="page-link w-10 h-10 rounded-full bg-white text-umMaroon flex items-center justify-center shadow">
          <i class="fa-solid fa-user"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- MAIN 12-COLUMN GRID -->
  <main class="max-w-7xl mx-auto px-4 py-6">
    <div class="grid grid-cols-12 gap-6">

      <!-- PERSISTENT SIDEBAR WILL TAKE UP 3 COLUMNS -->
      <section class="col-span-12 md:col-span-3 flex flex-col h-full space-y-4">
        <div class="h-[66vh] flex flex-col space-y-4 overflow-hidden z-10">
          <!-- Nav Buttons -->
          <button
            class="page-link group flex-1 w-full rounded-xl overflow-hidden shadow hover:shadow-lg transition relative"
            data-target="home-page">
            <img
              src="https://appmsmunifyprod.blob.core.windows.net/docs/files/institution/f54b4ec0-7faa-4a03-80dc-e73551af995c.jpeg?q=80&w=800&auto=format&fit=crop"
              class="w-full h-full object-cover group-hover:scale-[1.1] transition" />
            <div class="absolute inset-x-0 bottom-0 p-3 flex items-center justify-between z-10">
              <span class="text-white font-semibold text-lg">Home</span>
            </div>
          </button>

          <button
            class="page-link group flex-1 w-full rounded-xl overflow-hidden shadow hover:shadow-lg transition relative"
            data-target="social-page">
            <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=800&auto=format&fit=crop"
              class="w-full h-full object-cover group-hover:scale-[1.1] transition" />
            <div class="absolute inset-x-0 bottom-0 p-3 flex items-center justify-between z-10">
              <span class="text-white font-semibold text-lg">Social</span>
            </div>
          </button>

          <button
            class="page-link group flex-1 w-full rounded-xl overflow-hidden shadow hover:shadow-lg transition relative"
            data-target="achievements-page">
            <img src="https://www.shutterstock.com/image-photo/success-teamwork-joint-achievement-goal-600nw-2505270505.jpg"
              class="w-full h-full object-cover group-hover:scale-[1.1] transition" />
            <div class="absolute inset-x-0 bottom-0 p-3 flex items-center justify-between z-10">
              <span class="text-white font-semibold text-lg">Achievements</span>
            </div>
          </button>

          <button
            class="page-link group flex-1 w-full rounded-xl overflow-hidden shadow hover:shadow-lg transition relative"
            data-target="create-page">
            <img src="https://t3.ftcdn.net/jpg/16/67/17/62/360_F_1667176245_iDvpV2H6MiXtTtbYNUKhCKGsiI0NKayr.jpg"
              class="w-full h-full object-cover group-hover:scale-[1.1] transition" />
            <div class="absolute inset-x-0 bottom-0 p-3 flex items-center justify-between z-10">
              <span class="text-white font-semibold text-lg">Create New Event</span>
            </div>
          </button>
        </div>

        <!-- Registered Events (always visible) -->
        <div class="flex flex-col w-full">
          <div class="flex items-center justify-between mb-3">
            <h2 class="text-2xl font-semibold">Registered Events</h2>
          </div>

          <div id="registeredPanel" class="w-full rounded-xl overflow-y-auto h-[33vh] mb-3 bg-white shadow">
            <ul id="registeredList" class="gap-4 px-6 py-3 text-sm w-full"></ul>
            <div id="registeredEmpty" class="text-sm text-slate-500 px-6 pb-3">
              No events yet. Open a card ‚Üí ‚ÄúMore info‚Äù ‚Üí Register.
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT DYNAMIC COLUMN  (FIND YOUR PAGE HERE AND MODIFY)-->
      <section id="right-panel" class="col-span-12 md:col-span-9">
        <!-- HOME -->
        <section id="home-page" class="page-section">
          <!-- RIGHT: Map + Filters -->
          <div class="grid grid-cols-12 gap-4">
            <div class="relative col-span-12 lg:col-span-10 bg-white rounded-xl shadow overflow-hidden">
              <div id="map" class="absolute inset-0 z-0"></div>
            </div>

            <div class="col-span-12 lg:col-span-2 bg-white rounded-xl shadow p-4 space-y-3">
              <h3 class="font-semibold text-lg">Filters</h3>
              <label class="flex items-center gap-2"><input type="checkbox" class="filter" value="By Faculty"> By
                Faculty</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="filter" value="Career Events"> Career Events</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="filter" value="Social">
                Social</label>
              <h3 class="font-semibold text-lg">Legend</h3>
              <div id="legendBox" class="space-y-2 text-sm"></div>
            </div>
          </div>

          <!-- What's Happening (Carousel) -->
          <div class="flex flex-col mt-4">
            <div class="flex items-center justify-between mb-3">
              <h2 class="text-2xl font-semibold">What's Happening on Campus</h2>
            </div>

            <div class="relative">
              <button id="prevBtn"
                class="absolute left-0 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-black w-10 h-10 rounded-full z-10 shadow flex items-center justify-center">
                <p>&lt;</p>
              </button>

              <div id="eventCarousel"
                class="flex overflow-x-auto overflow-y-hidden gap-2 px-12 scroll-smooth min-h-[200px]">
                <!-- filled by JS -->
              </div>

              <button id="nextBtn"
                class="absolute right-0 top-1/2 -translate-y-1/2 bg-gray-200 hover:bg-gray-300 text-black w-10 h-10 rounded-full z-10 shadow flex items-center justify-center">
                <p>></p>
              </button>
            </div>
          </div>
        </section>















        
        <!-- SOCIAL / FRIENDS PAGE -->
        <section id="social-page" class="page-section hidden">
          <div class="grid grid-cols-1 xl:grid-cols-[minmax(0,3fr),minmax(0,1.2fr)] gap-6">
            <!-- LEFT: main friends content -->
            <div class="space-y-6">
              <!-- Top row: title + tabs -->
              <header class="bg-white rounded-xl shadow p-6 space-y-1">

                <!-- Page Title -->
                <h1 class="text-2xl font-bold text-umMaroon mb-4">Social</h1>
              
                <!-- Profile Block (identical styling to Achievements) -->
                <div class="flex items-center gap-4 mb-4">
                  <div class="w-14 h-14 rounded-full bg-slate-100 flex items-center justify-center text-2xl text-slate-600 border border-slate-200">
                    <i class="fa-solid fa-user"></i>
                  </div>
              
                  <div>
                    <p class="text-xs uppercase tracking-wide text-slate-400">Social Dashboard</p>
                    <h2 class="text-xl font-semibold text-slate-800 leading-tight">Hassan Khan</h2>
                    <p class="text-sm text-slate-500">Computer Science ‚Ä¢ U of M</p>
                  </div>
                </div>
              
                <!-- Tabs -->
                <nav class="flex flex-wrap gap-2 text-sm mt-4 md:mt-5">
                  <button
                  class="social-tab px-3 py-1 rounded-full bg-umGold text-umMaroon font-semibold"
                  data-tab="friends"
                >
                  My Friends
                  <span id="friendsCount"
                        class="ml-1 text-xs bg-white/80 px-2 py-0.5 rounded-full">120</span>
                </button>
                <button
                  class="social-tab px-3 py-1 rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200"
                  data-tab="requests"
                >
                  Friend Requests
                  <span id="friendReqCount"
                        class="ml-1 text-xs bg-white px-2 py-0.5 rounded-full">3</span>
                </button>
                  <button
                    class="social-tab px-3 py-1 rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200"
                    data-tab="groups"
                  >
                    Groups <span class="ml-1 text-xs bg-white px-2 py-0.5 rounded-full">3</span>
                  </button>
                </nav>
              
              </header>

              <!-- FRIENDS TAB CONTENT -->
              <section id="friendsSection" class="bg-white rounded-xl shadow p-4">
                <div class="flex items-center justify-between gap-3 mb-3">
                  <h2 class="text-sm font-semibold text-slate-600">My Friends</h2>
              
                  <!-- Search in friends -->
                  <div class="w-full max-w-xs ml-auto">
                    <label class="sr-only" for="friendsSearch">Search friends</label>
                    <input
                      id="friendsSearch"
                      type="text"
                      class="w-full rounded-full border border-slate-200 px-3 py-1.5 text-sm
                             focus:outline-none focus:ring-1 focus:ring-umGold focus:border-umGold"
                      placeholder="Search friends..."
                    />
                  </div>
                </div>
              
                <!-- Single-row, horizontally scrollable friends list -->
                <div
                  id="friendsRow"
                  class="w-full text-sm"
                >
                  <!-- Filled by JavaScript -->
                </div>
              </section>

              <!-- FRIEND REQUESTS TAB CONTENT -->
              <section id="friendRequestsSection" class="bg-white rounded-xl shadow p-4 hidden">
                <h2 class="text-sm font-semibold text-slate-600 mb-3">Friend Requests</h2>

                <div id="friendRequestsList" class="space-y-3 text-sm">
                  <!-- Filled by JavaScript -->
                </div>
              </section>

              <!-- GROUPS TAB CONTENT -->
              <section id="groupsSection" class="bg-white rounded-xl shadow p-4 hidden">
                <h2 class="text-sm font-semibold text-slate-600 mb-2">Groups</h2>
                <p class="text-sm text-slate-500">
                  UMIEEE
                  <br />
                  Robotics Club
                  <br />
                  Computer Science Society
                </p>
              </section>

              <!-- Recent activity + suggestions + chart -->
              <section class="grid grid-cols-1 lg:grid-cols-[1.7fr,1.3fr] gap-4">
                <!-- Recent activity + suggestions -->
                <div class="space-y-4">
                  <!-- Recent activity -->
                  <div class="bg-white rounded-xl shadow p-4">
                    <h2 class="text-sm font-semibold text-slate-600 mb-2">Recent Activity</h2>
                    <ul class="space-y-2 text-sm">
                      <li class="flex justify-between gap-4">
                        <span>Timi earned first event achievement</span>
                        <span class="text-xs text-slate-500 whitespace-nowrap">5 min ago</span>
                      </li>
                      <li class="flex justify-between gap-4">
                        <span>Vassily joined group ‚ÄúUMIEEE‚Äù</span>
                        <span class="text-xs text-slate-500 whitespace-nowrap">1 h ago</span>
                      </li>
                      <li class="flex justify-between gap-4">
                        <span>Rawand earned early riser achievement</span>
                        <span class="text-xs text-slate-500 whitespace-nowrap">3 h ago</span>
                      </li>
                    </ul>
                  </div>

                  <!-- Suggestions -->
                  <div class="bg-white rounded-xl shadow p-4 space-y-3">
                    <h2 class="text-sm font-semibold text-slate-600">Suggestions for You</h2>
                    <ul class="space-y-1 text-sm">
                      <li>Sarah K. (2 mutual events)</li>
                      <li>11 friends in Robotics Club</li>
                    </ul>

                    <div class="flex flex-wrap gap-2 text-xs mt-2">
                      <button class="px-3 py-1 rounded-full border border-umGold text-umMaroon bg-umGold/10 font-semibold">
                        Add Friend
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Most popular events ‚Äì clean horizontal bar chart -->
                <div class="bg-white rounded-xl shadow p-4">
                  <div class="flex items-center justify-between gap-3">
                    <h2 class="text-sm font-semibold text-slate-600">Most Popular Events</h2>

                    <div class="flex items-center gap-2 text-xs">
                      <span class="text-slate-500">Filter by</span>
                      <select id="popularFilter"
                        class="border border-slate-200 rounded-full px-2 py-1 text-xs text-slate-700 bg-slate-50">
                        <option value="everyone" selected>everyone</option>
                        <option value="friends">friends only</option>
                      </select>
                    </div>
                  </div>

                  <div id="popularEventsList" class="mt-4 space-y-3 text-sm"></div>
                </div>
              </section>
            </div>

            <!-- RIGHT: messages column -->
            <aside class="space-y-4">
              <div id="messagesPane" class="bg-white rounded-xl shadow p-4 space-y-3">
                <div class="flex items-center justify-between mb-1">
                  <h2 class="text-sm font-semibold text-slate-600">Messages</h2>
                  <!-- Total unread badge (hidden when 0) -->
                  <span
                    id="messagesBadge"
                    class="inline-flex items-center justify-center rounded-full bg-red-500 text-white
                           text-[10px] font-semibold px-2 py-0.5 hidden">
                    0
                  </span>
                </div>

                <!-- Message 1 -->
                <button
                class="message-thread w-full flex items-center gap-3 border border-slate-200 rounded-lg p-2 hover:bg-slate-50 text-left"
                data-friend="Sarah"
              >
                <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center">
                  <i class="fa-solid fa-user text-slate-500 text-xs"></i>
                </div>

                <div class="flex-1">
                  <p class="text-sm font-semibold">Sarah</p>
                  <p class="text-xs text-slate-500 truncate">
                    ‚ÄúAre you going to the Robotics Club event?‚Äù
                  </p>
                </div>

                <!-- per-thread bubble -->
                <span
                  class="msg-unread-badge ml-auto inline-flex items-center justify-center
                        rounded-full bg-red-500 text-white text-[10px] font-semibold
                        px-1.5 py-0.5 hidden"
                  data-badge-for="Sarah"
                >
                  0
                </span>
              </button>

                <!-- Message 2 -->
                <button
                  class="message-thread w-full flex items-center gap-3 border border-slate-200 rounded-lg p-2 hover:bg-slate-50 text-left"
                  data-friend="Chuka"
                >
                  <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center">
                    <i class="fa-solid fa-user text-slate-500 text-xs"></i>
                  </div>
                  <div class="flex-1">
                    <p class="text-sm font-semibold">Chuka</p>
                    <p class="text-xs text-slate-500 truncate">‚ÄúThanks for sharing the Runners photos!‚Äù</p>
                  </div>
                  <span
                    class="msg-unread-badge ml-auto inline-flex items-center justify-center
                          rounded-full bg-red-500 text-white text-[10px] font-semibold
                          px-1.5 py-0.5 hidden"
                    data-badge-for="Chuka"
                    >
                </button>
                </div>
              </aside>
           </div>
         </section>

        <!-- ACHIEVEMENTS -->
        <section id="achievements-page" class="page-section hidden">
          <div class="bg-white rounded-xl shadow p-6 space-y-6">
            <!-- PAGE TITLE -->
            <h2 class="text-2xl font-bold text-umMaroon mb-2">Your Achievements</h2>

            <!-- PROFILE + LEVEL -->
            <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
              <div class="flex items-center gap-4">
                <div
                  class="w-14 h-14 rounded-full bg-slate-100 flex items-center justify-center text-2xl text-slate-600 border border-slate-200">
                  <i class="fa-solid fa-user"></i>
                </div>
                <div>
                  <p class="text-xs uppercase tracking-wide text-slate-400">Event Master</p>
                  <h3 class="text-xl font-bold text-slate-800">Hassan Khan</h3>
                  <p class="text-sm text-slate-500">Computer Science ‚Ä¢ U of M</p>
                </div>
              </div>

              <!-- Level bar -->
              <div class="w-full md:w-1/2 flex flex-col gap-2">
                <div class="flex items-center justify-between text-sm font-medium text-slate-600">
                  <span>Level 7</span>
                  <span class="text-umMaroon">1320 / 1500 XP</span>
                </div>
                <div class="w-full h-3 rounded-full bg-slate-100 overflow-hidden">
                  <div class="h-full w-2/3 bg-gradient-to-r from-umGold to-umMaroon"></div>
                </div>
                <p class="text-xs text-slate-500">
                  Join events, host your own, and bring friends to unlock more badges.
                </p>
              </div>
            </div>

            <!-- SHORT INTRO -->
            <p class="text-sm text-slate-500">
              Each card below is an achievement. Read the description to see how to earn it and watch your progress bar
              fill up.
            </p>

            <!-- REWARDS GRID -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
              <!-- Best Attendee -->
              <article
                class="rounded-xl border border-slate-200 bg-slate-50/70 hover:bg-slate-100 shadow-sm hover:shadow-md transition p-4 flex flex-col gap-3">
                <div class="flex items-start justify-between gap-2">
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 rounded-full bg-umGold/20 flex items-center justify-center text-xl">
                      ‚≠ê
                    </div>
                    <div>
                      <h4 class="font-semibold text-slate-800 text-sm">Best Attendee</h4>
                      <p class="text-xs text-slate-500">
                        Go to different events around campus.
                      </p>
                    </div>
                  </div>
                  <span
                    class="text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-slate-100 text-slate-600 font-semibold">
                    In progress
                  </span>
                </div>

                <!-- Progress bar -->
                <div class="mt-1 space-y-1">
                  <div class="h-2 rounded-full bg-slate-200 overflow-hidden">
                    <div class="h-full w-[85%] bg-indigo-400"></div>
                  </div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>17 / 20 events</span>
                    <button
                      class="reward-info-btn text-[11px] text-umMaroon font-semibold hover:underline">
                      More details
                    </button>
                  </div>
                </div>
              </article>

              <!-- Early Riser -->
              <article
                class="rounded-xl border border-slate-200 bg-slate-50/70 hover:bg-slate-100 shadow-sm hover:shadow-md transition p-4 flex flex-col gap-3">
                <div class="flex items-start justify-between gap-2">
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 rounded-full bg-sky-100 flex items-center justify-center text-xl">
                      ‚òÄÔ∏è
                    </div>
                    <div>
                      <h4 class="font-semibold text-slate-800 text-sm">Early Riser</h4>
                      <p class="text-xs text-slate-500">
                        Join morning events before 10 AM.
                      </p>
                    </div>
                  </div>
                  <span
                    class="text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 font-semibold">
                    Unlocked
                  </span>
                </div>

                <div class="mt-1 space-y-1">
                  <div class="h-2 rounded-full bg-slate-200 overflow-hidden">
                    <div class="h-full w-full bg-emerald-400"></div>
                  </div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>11 / 11 mornings</span>
                  </div>
                </div>
              </article>

              <!-- Night Owl -->
              <article
                class="rounded-xl border border-slate-200 bg-slate-50/70 hover:bg-slate-100 shadow-sm hover:shadow-md transition p-4 flex flex-col gap-3">
                <div class="flex items-start justify-between gap-2">
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-xl">
                      üåô
                    </div>
                    <div>
                      <h4 class="font-semibold text-slate-800 text-sm">Night Owl</h4>
                      <p class="text-xs text-slate-500">
                        Hang out at late night events after 6 PM. 
                      </p>
                    </div>
                  </div>
                  <span
                    class="text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-slate-100 text-slate-600 font-semibold">
                    In progress
                  </span>
                </div>

                <div class="mt-1 space-y-1">
                  <div class="h-2 rounded-full bg-slate-200 overflow-hidden">
                    <div class="h-full w-[40%] bg-indigo-400"></div>
                  </div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>4 / 10 nights</span>
                  </div>
                </div>
              </article>

              <!-- Event Architect -->
              <article
                class="rounded-xl border border-slate-200 bg-slate-50/70 hover:bg-slate-100 shadow-sm hover:shadow-md transition p-4 flex flex-col gap-3">
                <div class="flex items-start justify-between gap-2">
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center text-xl">
                      üìÖ
                    </div>
                    <div>
                      <h4 class="font-semibold text-slate-800 text-sm">Event Architect</h4>
                      <p class="text-xs text-slate-500">
                        Host your own events.
                      </p>
                    </div>
                  </div>
                  <span
                    class="text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-slate-100 text-slate-600 font-semibold">
                    In progress
                  </span>
                </div>

                <div class="mt-1 space-y-1">
                  <div class="h-2 rounded-full bg-slate-200 overflow-hidden">
                    <div class="h-full w-[20%] bg-amber-400"></div>
                  </div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>1 / 5 events hosted</span>
                  </div>
                </div>
              </article>

              <!-- Campus Socialite -->
              <article
                class="rounded-xl border border-slate-200 bg-slate-50/70 hover:bg-slate-100 shadow-sm hover:shadow-md transition p-4 flex flex-col gap-3">
                <div class="flex items-start justify-between gap-2">
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 rounded-full bg-pink-100 flex items-center justify-center text-xl">
                      ü§ù
                    </div>
                    <div>
                      <h4 class="font-semibold text-slate-800 text-sm">Campus Socialite</h4>
                      <p class="text-xs text-slate-500">
                        Bring your friends to events. 
                      </p>
                    </div>
                  </div>
                  <span
                    class="text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-slate-100 text-slate-400 font-semibold">
                    Locked
                  </span>
                </div>

                <div class="mt-1 space-y-1">
                  <div class="h-2 rounded-full bg-slate-200 overflow-hidden">
                    <div class="h-full w-[0%] bg-pink-400"></div>
                  </div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>0 / 5 friends</span>
                  </div>
                </div>
              </article>

              <!-- Co-op Hunter -->
              <article
                class="rounded-xl border border-slate-200 bg-slate-50/70 hover:bg-slate-100 shadow-sm hover:shadow-md transition p-4 flex flex-col gap-3">
                <div class="flex items-start justify-between gap-2">
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center text-xl">
                      üíº
                    </div>
                    <div>
                      <h4 class="font-semibold text-slate-800 text-sm">Co-op Hunter</h4>
                      <p class="text-xs text-slate-500">
                        Join career and co-op events.
                      </p>
                    </div>
                  </div>
                  <span
                    class="text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 font-semibold">
                    Unlocked
                  </span>
                </div>

                <div class="mt-1 space-y-1">
                  <div class="h-2 rounded-full bg-slate-200 overflow-hidden">
                    <div class="h-full w-full bg-teal-400"></div>
                  </div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>3 / 3 career events</span>
                  </div>
                </div>
              </article>
            </div>

            <!-- FRIENDS LEADERBOARD -->
            <div class="mt-6 pt-4 border-t">
              <div class="flex items-center justify-between mb-2">
                <h3 class="text-lg font-semibold text-slate-800 flex items-center gap-2">
                  <span class="text-umMaroon"><i class="fa-solid fa-ranking-star"></i></span>
                  Friends Leaderboard
                </h3>
                <p class="text-xs text-slate-500">See how your friends are doing this week.</p>
              </div>

              <ul class="space-y-2">
                <li
                  class="flex items-center justify-between bg-slate-50 rounded-lg px-3 py-2 text-sm text-slate-700">
                  <div class="flex items-center gap-3">
                    <span
                      class="w-6 h-6 rounded-full bg-umGold text-umMaroon flex items-center justify-center text-xs font-bold">1</span>
                    <div>
                      <p class="font-semibold">Rodrigo</p>
                      <p class="text-xs text-slate-500">Best Attendee - Level 8</p>
                    </div>
                  </div>
                  <span class="text-xs text-slate-500">24 events</span>
                </li>

                <li
                  class="flex items-center justify-between bg-slate-50 rounded-lg px-3 py-2 text-sm text-slate-700">
                  <div class="flex items-center gap-3">
                    <span
                      class="w-6 h-6 rounded-full bg-slate-200 text-slate-700 flex items-center justify-center text-xs font-bold">2</span>
                    <div>
                      <p class="font-semibold">Will</p>
                      <p class="text-xs text-slate-500">Event Architect - Level 6</p>
                    </div>
                  </div>
                  <span class="text-xs text-slate-500">18 events</span>
                </li>

                <li
                  class="flex items-center justify-between bg-slate-50 rounded-lg px-3 py-2 text-sm text-slate-700">
                  <div class="flex items-center gap-3">
                    <span
                      class="w-6 h-6 rounded-full bg-slate-200 text-slate-700 flex items-center justify-center text-xs font-bold">3</span>
                    <div>
                      <p class="font-semibold">Vassily</p>
                      <p class="text-xs text-slate-500">Event Socialite - Level 5</p>
                    </div>
                  </div>
                  <span class="text-xs text-slate-500">13 events</span>
                </li>

                <li
                  class="flex items-center justify-between bg-slate-50 rounded-lg px-3 py-2 text-sm text-slate-700">
                  <div class="flex items-center gap-3">
                    <span
                      class="w-6 h-6 rounded-full bg-slate-200 text-slate-700 flex items-center justify-center text-xs font-bold">4</span>
                    <div>
                      <p class="font-semibold">Jamal</p>
                      <p class="text-xs text-slate-500">Night Owl - Level 4</p>
                    </div>
                  </div>
                  <span class="text-xs text-slate-500">9 events</span>
                </li>
              </ul>
            </div>
          </div>
        </section>


        
        <!-- CREATE -->
        <section id="create-page" class="page-section hidden">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- LEFT: Event Creation Form -->
            <form id="createEventForm" class="bg-white rounded-xl shadow p-6 space-y-4 flex flex-col justify-between">
              <h2 class="text-2xl font-bold text-umMaroon mb-2">Create New Event</h2>

              <div>
                <label class="block text-sm font-medium mb-1">Event Name</label>
                <input type="text" id="eventName" class="w-full border rounded-lg p-2" required>
              </div>

              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-sm font-medium mb-1">Date</label>
                  <input type="date" id="eventDate" class="w-full border rounded-lg p-2" required>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-1">Time</label>
                  <input type="time" id="eventTime" class="w-full border rounded-lg p-2" required>
                </div>
              </div>
<div>
  <label class="block text-sm font-medium mb-1">Choose a campus landmark or click on the map</label>
  <select id="landmarkSelect" class="w-full border rounded-lg p-2">
    <option value="">-- Select a landmark (optional) --</option>
    <!-- options will be populated by JS -->
  </select>
</div>

<div>
  <label class="block text-sm font-medium mb-1">Location</label>
  <input type="text" id="eventPlace" class="w-full border rounded-lg p-2"
         placeholder="e.g. EITC Atrium" required>

  <!-- Fuzzy suggestion row -->
  <div id="eventPlaceSuggestion" class="mt-1 text-s text-gray-500 hidden">
    Did you mean
    <button type="button"
            id="eventPlaceSuggestionBtn"
            class="underline text-umMaroon font-semibold">
      <span id="eventPlaceSuggestionText"></span>
    </button>
    ?
  </div>
</div>



              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-sm font-medium mb-1">Category</label>
                  <select id="eventCategory" class="w-full border rounded-lg p-2">
                    <option>By Faculty</option>
                    <option>Career Events</option>
                    <option>Social</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-1">Price ($)</label>
                  <input type="number" id="eventPrice" min="0" value="0" class="w-full border rounded-lg p-2">
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium mb-1">Image URL</label>
                <input type="url" id="eventImage" class="w-full border rounded-lg p-2"
                  placeholder="https://example.com/event-image.jpg">
              </div>

              <div>
                <label class="block text-sm font-medium mb-1">Description</label>
                <textarea id="eventDesc" rows="3" class="w-full border rounded-lg p-2"></textarea>
              </div>

              <div class="grid grid-cols-2 gap-3" style="display: none;">
                <div>
                  <label class="block text-sm font-medium mb-1">Latitude</label>
                  <input type="text" id="eventLat" class="w-full border rounded-lg p-2" readonly>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-1">Longitude</label>
                  <input type="text" id="eventLng" class="w-full border rounded-lg p-2" readonly>
                </div>
              </div>

              <div class="flex gap-3 mt-4">
                <button type="button" id="previewEventBtn"
                  class="bg-slate-100 text-slate-700 px-4 py-2 rounded hover:bg-slate-200 shadow">
                  Preview Event
                </button>
                <button type="submit"
                  class="bg-umGold text-umMaroon font-semibold px-4 py-2 rounded hover:bg-umGoldDark shadow">
                  Submit Event
                </button>
              </div>
            </form>

            <!-- RIGHT: Map + Live Preview -->
            <div class="flex flex-col gap-4">
              <div id="createMap" class="rounded-xl shadow overflow-hidden" style="height: 40vh;"></div>

              <div id="previewCard"
                class="bg-white rounded-xl shadow p-4 flex flex-col justify-center items-center text-center text-slate-500 h-[33vh]">
                <p class="italic">Fill out the form and click the map to set a location.</p>
              </div>
            </div>
          </div>
        </section>
        <!-- CREATE -->


        <!-- PROFILE -->
        <section id="profile-page" class="page-section hidden">
          <div class="bg-white rounded-xl shadow flex items-center gap-6 mb-6 min-w-[680px]">
            <!-- LEFT SIDE -->
            <div class="p-6 space-y-6 h-full min-h-[400px] w-60 max-w-[181px]">
              <aside class="flex flex-col justify-start items-stretch h-full min-h-[400px] w-60 max-w-[181px]">
                <div style="margin-bottom: 16px;">
                  <h1 class="text-2xl font-bold text-umMaroon mb-1">Your Profile</h1>
                </div>
                <button type="button" data-target="profile_personalInfoPage" class="profile_btn bg-slate-100 bg-umGold shadow mb-3 px-4 py-2 rounded-lg text-umMaroon font-semibold hover:bg-umGoldDark transition">Personal Info</button>
                <button type="button" data-target="profile_privacyPage" class="profile_btn bg-slate-100 shadow mb-3 px-4 py-2 rounded-lg text-umMaroon font-semibold hover:bg-umGoldDark transition">Privacy</button>
                <button type="button" data-target="profile_notificationsPage" class="profile_btn bg-slate-100 shadow mb-3 px-4 py-2 rounded-lg text-umMaroon font-semibold hover:bg-umGoldDark transition">Email Notifications</button>
                <button type="button" data-target="profile_securityPage" class="profile_btn bg-slate-100 shadow mb-3 px-4 py-2 rounded-lg text-umMaroon font-semibold hover:bg-umGoldDark transition">Security</button>
              </aside>
            </div>

            <!-- VERTICAL DIVIDER LINE -->
            <div class="ml-6 border-l h-95 min-h-[350px] border-gray-300"></div>

            <!-- RIGHT SIDE -->
            <div class="p-6 space-y-6 h-full min-h-[400px] w-full min-w-[450px]">
              <!-- PERSONAL INFO -->
              <div class="profile_page-section" id="profile_personalInfoPage">
                <!-- PICTURE, DESCRIPTION -->
                <div class="flex items-center gap-6 mb-6">
                  <div class="w-24 h-24 rounded-xl overflow-hidden border-2 border-umMaroon flex-shrink-0">
                    <img src="https://www.shutterstock.com/shutterstock/photos/2345549599/display_1500/stock-vector-avatar-photo-default-user-icon-picture-face-social-person-image-avatar-vector-illustration-eps-2345549599.jpg" class="w-full h-full object-cover" />
                  </div>
                  <div class="flex flex-col gap-2">
                    <label for="profileDescription" class="text-lg font-bold text-slate-800 font-semibold mb-1">Description:</label>
                    <textarea id="profileDescription" type="text" class="border rounded-lg px-3 py-2 text-slate-800 bg-white shadow focus:outline-none focus:ring-2 focus:ring-umGold">I am a 4th year CS major.</textarea>
                  </div>
                </div>

                <div class="w-full max-w-[370px]">
                  <!-- NAME -->
                  <div class="flex items-center justify-between gap-6 mb-1">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Name:</h3>
                    <input id="profileName" type="text" class="border rounded-lg px-3 py-2 text-slate-600 bg-white shadow focus:outline-none focus:ring-2 focus:ring-umGold" value="Hassan Khan" />
                  </div>

                  <!-- PREFERRED NAME -->
                  <div class="flex items-center justify-between gap-6 mb-1">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Preferred Name:</h3>
                    <input id="profilePreferredName" type="text" class="border rounded-lg px-3 py-2 text-slate-600 bg-white shadow focus:outline-none focus:ring-2 focus:ring-umGold" value="Hassan Khan" />
                  </div>

                  <!-- DATE OF BIRTH -->
                  <div class="flex items-center justify-between gap-6 mb-1">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Date of Bearth:</h3>
                    <input id="profileDoB" type="date" style="width: 207px;" class="border rounded-lg px-3 py-2 text-slate-600 bg-white shadow focus:outline-none focus:ring-2 focus:ring-umGold" value="2001-09-14"/>
                  </div>

                  <!-- FACULTY -->
                  <div class="flex items-center justify-between gap-6 mb-6">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Faculty:</h3>
                    <input id="profileFaculty" type="text" class="border rounded-lg px-3 py-2 text-slate-600 bg-white shadow focus:outline-none focus:ring-2 focus:ring-umGold" value="Computer Science" />
                  </div>

                  <!-- EMAIL -->
                  <div class="flex items-center justify-between gap-6">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Email:</h3>
                    <p class="text-slate-600">example@mail.com</p>
                  </div>

                  <!-- PHONE NUMBER -->
                  <div class="flex items-center justify-between gap-6">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Phone Number:</h3>
                    <p class="text-slate-600">204 555 5555</p>
                  </div>

                </div>

                <!-- SAVE AND DISCARD BUTTONS -->
                <div class="flex gap-4 mt-8">
                  <button type="button" id="discardProfileChanges" class="bg-slate-100 text-slate-800 font-semibold px-5 py-2 rounded-lg shadow hover:bg-slate-200 transition">Discard Changes</button>
                  <button type="button" id="saveProfileChanges" class="bg-umGold text-umMaroon font-semibold px-5 py-2 rounded-lg shadow hover:bg-umGoldDark transition">Save Changes</button>
                </div>

              </div>

              <!-- PRIVACY -->
              <div class="profile_page-section hidden" id="profile_privacyPage">
                <div class="flex items-center gap-6 mb-6">
                    <h1 class="text-2xl font-bold text-slate-800 font-bold">Select who can see your personal data:</h1>
                </div>
                
                <div class="w-full max-w-[400px]">

                  <div class="flex items-center justify-between gap-6 mb-3">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Everyone can see your Name </h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>

                  <div class="flex items-center justify-between gap-6 mb-3">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Everyone can see your Date of Birth</h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>

                  <div class="flex items-center justify-between gap-6 mb-6">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Everyone can see your Email</h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>

                  <div class="flex items-center justify-between gap-6 mb-3">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Friends can see your Name</h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>

                  <div class="flex items-center justify-between gap-6 mb-3">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Friends can see your Date of Birth</h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>

                  <div class="flex items-center justify-between gap-6 mb-6">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Friends can see your Email</h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>
                </div>

              </div>

              <!-- SECURITY -->
              <div class="profile_page-section hidden" id="profile_securityPage">
                TODO: add delete account button and configuration of email and password popups
                <div class="flex items-center gap-6 mb-6">
                  <h3 class="text-lg font-bold text-slate-800 font-semibold">Email:</h3>
                </div>

                <div class="flex items-center gap-6 mb-6">
                  <h3 class="text-lg font-bold text-slate-800 font-semibold">Password:</h3>
                </div>

              </div>

              <!-- NOTIFICATIONS -->
              <div class="profile_page-section hidden" id="profile_notificationsPage">
                <div class="flex items-center gap-6 mb-6">
                    <h1 class="text-2xl font-bold text-slate-800 font-bold">Select who can send you email Notifications:</h1>
                </div>

                <div class="w-full max-w-[350px]">
                  <div class="flex items-center justify-between gap-6 mb-3">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">CSSA</h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>

                  <div class="flex items-center justify-between gap-6 mb-3">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">WICS</h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>

                  <div class="flex items-center justify-between gap-6 mb-3">
                    <h3 class="text-lg font-bold text-slate-800 font-semibold">Devclub</h3>
                    <label class="inline-flex items-center me-5 cursor-pointer">
                      <input type="checkbox" value="" class="sr-only peer" checked>
                      <div class="relative shadow w-9 h-5 bg-slate-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-red-800 dark:peer-focus:ring-red-800 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-umGold dark:peer-checked:bg-umGold"></div>
                    </label>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </section>
      </section>
    </div>
  </main>

  <!-- Things that dont have to be in the main pages-->
  <!-- EVENT MODAL (global) -->
  <div id="eventModal" class="fixed inset-0 z-40 hidden">
    <!-- dark background -->
    <div class="absolute inset-0 bg-black/40"></div>

    <!-- modal box -->
    <div class="relative max-w-xl mx-auto mt-24 bg-white rounded-xl shadow-lg overflow-hidden fade-in">
      <!-- floating close button -->
      <button id="modalClose" class="absolute top-0 right-2 text-slate-500 hover:text-slate-800 z-40">x</button>

      <div class="flex">
        <img id="modalImage" class="w-40 h-40 object-cover hidden md:block" alt="Event image">

        <div class="p-5 flex-1">
          <div>
            <h3 id="modalTitle" class="text-xl font-semibold"></h3>
            <div id="modalMeta" class="text-sm text-slate-500 mt-1"></div>
          </div>

          <p id="modalDesc" class="text-slate-700 text-sm mt-3"></p>

          <div class="mt-5 flex gap-2">
            <button id="modalRegister"
              class="bg-umGold text-umMaroon px-4 py-2 rounded font-semibold hover:bg-umGoldDark">Register</button>
            <button id="modalCenter" class="bg-slate-100 px-4 py-2 rounded hover:bg-slate-200">Center on Map</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- GOLD TOAST (global) -->
  <div id="toast"
    class="fixed bottom-5 left-1/2 -translate-x-1/2 bg-umGold text-umMaroon px-4 py-2 rounded-full font-semibold shadow hidden z-40">
    Registered! See you there üéâ
  </div>

  <!-- MESSAGE MODAL (global) -->
  <div id="messageModal" class="fixed inset-0 z-40 hidden">
    <!-- Dark overlay -->
    <div class="absolute inset-0 bg-black/40"></div>

    <!-- Modal box -->
    <div
      class="relative max-w-md w-full mx-auto mt-24 bg-white rounded-xl shadow-lg overflow-hidden fade-in flex flex-col"
    >
      <!-- Header -->
      <header class="flex items-center justify-between px-4 py-3 border-b border-slate-200">
        <div class="flex items-center gap-2">
          <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center">
            <i class="fa-solid fa-user text-slate-500 text-xs"></i>
          </div>
          <div>
            <p class="text-sm text-slate-500 text-xs">Chat with</p>
            <h3 id="messageFriendName" class="text-base font-semibold text-slate-800">Friend</h3>
          </div>
        </div>
        <button
          id="messageClose"
          class="text-slate-400 hover:text-slate-700 text-sm font-semibold px-2 py-1"
        >
          ‚úï
        </button>
      </header>

      <!-- Messages body -->
      <div
        id="messageThreadBody"
        class="flex-1 px-4 py-3 space-y-2 overflow-y-auto bg-slate-50"
        style="max-height: 320px;"
      >
        <!-- Filled by JS -->
      </div>

      <!-- Input area -->
      <footer class="border-t border-slate-200 px-3 py-2 bg-white">
        <div class="flex items-end gap-2">
          <textarea
            id="messageInput"
            rows="1"
            class="flex-1 border border-slate-200 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:ring-1 focus:ring-umGold"
            placeholder="Type a message..."
          ></textarea>
          <button
            id="messageSendBtn"
            class="bg-umGold text-umMaroon font-semibold text-sm px-3 py-2 rounded-lg hover:bg-umGoldDark"
          >
            Send
          </button>
        </div>
      </footer>
    </div>
  </div>
    <!-- LOCATION WARNING MODAL (global) -->
  <div id="locationWarningModal" class="fixed inset-0 z-40 hidden">
    <!-- Dark overlay -->
    <div class="absolute inset-0 bg-black/40"></div>

    <!-- Modal box -->
    <div
      class="relative max-w-md w-full mx-auto mt-24 bg-white rounded-xl shadow-lg overflow-hidden fade-in flex flex-col"
    >
      <!-- Header -->
      <header class="flex items-center justify-between px-4 py-3 border-b border-slate-200">
        <h3 class="text-base font-semibold text-slate-800">Location mismatch</h3>
        <button
          id="locWarnClose"
          class="text-slate-400 hover:text-slate-700 text-sm font-semibold px-2 py-1"
        >
          ‚úï
        </button>
      </header>

      <!-- Body -->
      <div class="px-4 py-3 space-y-2 text-sm text-slate-700">
  <p>
    The location name you entered
    (<span class="font-semibold" id="locWarnPlaceName">this place</span>)
    doesn‚Äôt match where you placed the map marker.
  </p>
  <p id="locWarnSuggestion" class="hidden">
    <span id="locWarnSuggestionText"></span>
  </p>
  <p>
    If this event is supposed to be at that landmark, please move the marker closer.
    Otherwise, you can submit anyway.
  </p>
</div>

      <!-- Footer -->
      <footer class="px-4 py-3 border-t border-slate-200 flex justify-end gap-2 bg-slate-50">
        <button
          id="locWarnCancel"
          class="px-3 py-1.5 text-sm rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-100"
        >
          Continue editing
        </button>
        <button
          id="locWarnSubmit"
          class="px-3 py-1.5 text-sm rounded-lg bg-umGold text-umMaroon font-semibold hover:bg-umGoldDark"
        >
          Submit anyway
        </button>
      </footer>
    </div>
  </div>
  <!-- Your main app logic -->
  <script src="js/app.js"></script>

</body>

</html>